!function(a){"use strict";var b=function(){return(new Date).getTime()+""+Math.ceil(1e5*Math.random())},c={editable:!1},d={init:function(d,e){function x(){n.css({borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderTop:"6px solid #999",borderBottom:"none"}),j.css("border",p),t=!1,F()}function y(){n.css({borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderTop:"none",borderBottom:"6px solid #999"}),j.css({border:q,borderBottom:p}),t=!0,E()}function z(b){a(b).css({backgroundColor:"#eee"}).siblings().css({backgroundColor:"#fff"})}function A(b,c){var d=void 0==c||null==c?"<li>":'<li data-value="'+c+'">',e=a(d+b+"</li>").appendTo(o);e.css({display:"list-item",padding:"3px",paddingLeft:h.css("paddingLeft"),paddingRight:h.css("paddingRight"),textAlign:"left",cursor:"pointer"}).hover(function(){z(e)}).on("click",function(){m.trigger("click"),k.val(e.text()),l.val(e.attr("data-value"))}).css({height:function(){var a=function(a){var d,c,b=-1;for(c=a.length-1;c>=0;c--)d=a[c],d>=0&&9>=d&&(b=c);return 0>b?0:parseInt(a.substring(0,b+1))},b=a(e.css("paddingTop"))+a(e.css("paddingBottom")),c=Math.max(a(e.css("fontSize")),Math.max(a(e.css("lineHeight")),h.height()));return b+c}()})}function B(b){var c=a(b);A(c.text(),c.val())}function C(){o.children().remove(),h.children().each(function(a,b){B(b)})}function D(b){o.children().remove(),h.children().each(function(c,d){(a(d).val()||"").indexOf(b)>=0&&B(d)})}function E(){if(o.children().length>0){var c,d,b=l.val();o.children().each(function(e,f){d=a(f),c=d.attr("data-value"),c===b?d.css({backgroundColor:"#eee"}):d.css({backgroundColor:"#fff"})}),o.fadeIn(w)}else o.fadeOut(w),j.css({borderBottom:q})}function F(){o.fadeOut(w)}var f=a.extend(!0,{},c,e),g=f.editable===!0?!0:!1,h=a(d),i=a("<div/>").insertBefore(h),j=a("<div/>").appendTo(i),k=a(g?"<input/>":"<span></span>").appendTo(j),l=a('<input type="hidden"/>').insertAfter(i),m=a("<div/>").appendTo(j),n=a("<div/>").appendTo(m),o=a("<ul/>").insertAfter(j),p=h.css("border")||"1px solid #ccc",q="1px solid #999",r="1px solid #aaa",s=18,t=!1,u=!1,v=!1,w=10;g||(k.css("cursor","pointer").val=function(a){return k.html(a)},a(document).on("click",function(){u||v||!t||x()})),i.css({display:"inline-block",margin:0,padding:0,border:"none"}),j.attr({"class":h.attr("class")}).css({display:"inline-block",border:p,width:h.outerWidth(),height:h.outerHeight(),padding:0,margin:0,"float":"left"}).hover(function(){v=!0},function(){v=!1}),m.css({display:"inline-block",borderLeft:p,width:s,height:j.height(),boxSizing:"border-box",cursor:"pointer","float":"right"}).on("click",function(a){a.preventDefault(),k.trigger("click")}),n.css({width:0,height:0,position:"relative",left:(s-6)/2,top:(j.height()-6)/2}),l.attr({id:(h.attr("id")||"_"+b())+"_value",name:h.attr("name")}),k.attr({id:h.attr("id"),alt:h.attr("alt"),title:h.attr("title"),disabled:h.attr("disabled"),tabindex:h.attr("tabindex")}).css({border:"none",display:"inline-block",fontFamily:h.css("fontFamily"),fontSize:h.css("fontSize"),background:h.css("background"),width:j.innerWidth()-m.outerWidth(),height:j.height(),lineHeight:h.css("lineHeight"),margin:0,paddingLeft:h.css("paddingLeft"),paddingRight:h.css("paddingRight"),paddingTop:h.css("paddingTop"),paddingBottom:h.css("paddingBottom"),boxSizing:"border-box","float":"left"}).on("click",function(){C(),t?x():y()}).on("focus",function(){k.css({outline:"none"})}).on("blur",function(){u||x()}).keyup(function(){D(k.val()),l.val(k.val()),E()}),l.val(h.val()),k.val(h.find("> option:selected").text()),o.css({display:"none",listStyleType:"none",width:h.outerWidth(),padding:0,margin:0,border:r,fontFamily:h.css("fontFamily"),fontSize:h.css("fontSize"),background:"#fff","float":"left",marginTop:j.outerHeight()-1,position:"absolute",zIndex:1e6}).hover(function(){u=!0},function(){u=!1}),x(),h.removeAttr("id").removeAttr("name").hide(),C()}};a.fn.selectx=function(b){return a(this).each(function(){var f=a(this);f.data("_selectxed_")||(d.init(this,b),f.data("_selectxed_",!0))})},a.fn.selectx.settings=c}(jQuery);
